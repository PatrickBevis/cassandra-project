{% extends 'base.html.twig' %}

{% block title %}Log in{% endblock %}

{% block body %}
    <h1 class="text-5xl p-20 text-center text-violet-400 font-bold">
        Sign in
    </h1>

    <div class="flex justify-center">
        <div class="w-full max-w-md bg-white border rounded-lg p-8 text-xl">

            {% if error %}
                <div class="mb-6 p-4 text-red-700 bg-red-100 border border-red-300 rounded">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            {% if app.user %}
                <div class="mb-6 text-center">
                    You are logged in as
                    <span class="font-bold">{{ app.user.userIdentifier }}</span>,
                    <a href="{{ logout_path() }}"
                       class="text-violet-600 font-bold underline">
                        Logout
                    </a>
                </div>
            {% endif %}

            <form method="post" class="space-y-6">

                <div>
                    <label for="username" class="block mb-2 font-bold text-violet-700">
                        Email
                    </label>
                    <input
                        type="email"
                        value="{{ last_username }}"
                        name="_username"
                        id="username"
                        class="w-full bg-gray-800 px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-violet-400"
                        autocomplete="email"
                        required
                        autofocus
                    >
                </div>

                <div>
                    <label for="password" class="block mb-2 font-bold text-violet-700">
                        Password
                    </label>
                    <input
                        type="password"
                        name="_password"
                        id="password"
                        class="w-full bg-gray-800 px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-violet-400"
                        autocomplete="current-password"
                        required
                    >
                </div>

                <input
                    type="hidden"
                    name="_csrf_token"
                    value="{{ csrf_token('authenticate') }}"
                >

                <div class="text-right pt-4">
                    <button
                        type="submit"
                        class="btn bg-violet-700 text-white border px-6 py-2 font-bold hover:cursor-pointer"
                    >
                        Sign in
                    </button>
                </div>

            </form>
        </div>
    </div>
{% endblock %}
